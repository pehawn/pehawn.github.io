{"version":3,"file":"906-3ee0e6e5853a55a65245.js","mappings":"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","sources":["webpack://portfolio/./node_modules/@mui/icons-material/Forward10Rounded.js","webpack://portfolio/./node_modules/@mui/icons-material/Replay10Rounded.js","webpack://portfolio/./node_modules/@mui/icons-material/StopRounded.js","webpack://portfolio/./node_modules/@mui/icons-material/esm/PauseRounded.js","webpack://portfolio/./node_modules/@mui/icons-material/esm/PlayArrowRounded.js","webpack://portfolio/./src/components/PlayerControlsCallout.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18.92 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.32 10.42 8.27 7 12 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71l-3.79-3.79c-.31-.31-.85-.09-.85.36V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-8.02 3v-4.27h-.09l-1.77.63v.69l1.01-.31V16zm3.42-4.22c-.18-.07-.37-.1-.59-.1s-.41.03-.59.1-.33.18-.45.33-.23.34-.29.57-.1.5-.1.82v.74c0 .32.04.6.11.82s.17.42.3.57.28.26.46.33.37.1.59.1.41-.03.59-.1.33-.18.45-.33.22-.34.29-.57.1-.5.1-.82v-.74c0-.32-.04-.6-.11-.82s-.17-.42-.3-.57-.29-.26-.46-.33zm.01 2.57c0 .19-.01.35-.04.48s-.06.24-.11.32-.11.14-.19.17-.16.05-.25.05-.18-.02-.25-.05-.14-.09-.19-.17-.09-.19-.12-.32-.04-.29-.04-.48v-.97c0-.19.01-.35.04-.48s.06-.23.12-.31.11-.14.19-.17.16-.05.25-.05.18.02.25.05.14.09.19.17.09.18.12.31.04.29.04.48v.97z\"\n}), 'Forward10Rounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11.99 5V2.21c0-.45-.54-.67-.85-.35L7.35 5.65c-.2.2-.2.51 0 .71l3.79 3.79c.31.31.85.09.85-.35V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.06-.48-.48-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24.99-5.13-2.9-9.61-7.85-9.61zm-1.1 11h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09V16zm4.28-1.76c0 .32-.03.6-.1.82s-.17.42-.29.57-.28.26-.45.33-.37.1-.59.1-.41-.03-.59-.1-.33-.18-.46-.33-.23-.34-.3-.57-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57.28-.26.45-.33.37-.1.59-.1.41.03.59.1.33.18.46.33.23.34.3.57.11.5.11.82v.74zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31-.11-.14-.19-.17-.16-.05-.25-.05-.18.02-.25.05-.14.09-.19.17-.09.18-.12.31-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32.11.14.19.17.16.05.25.05.18-.02.25-.05.14-.09.19-.17.09-.19.11-.32.04-.29.04-.48v-.97z\"\n}), 'Replay10Rounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M8 6h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2z\"\n}), 'StopRounded');\n\nexports.default = _default;","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\"\n}), 'PauseRounded');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\"\n}), 'PlayArrowRounded');","import React from \"react\";\nimport { AppContext } from \"../context/AppContext\";\nimport * as Tone from \"tone\";\nimport { IconButton, Popover, Stack } from \"@mui/material\";\nimport { IAudio } from \"../types/IAudio\";\nimport { PauseRounded, PlayArrowRounded } from \"@mui/icons-material\";\nimport Forward10RoundedIcon from \"@mui/icons-material/Forward10Rounded\";\nimport Replay10RoundedIcon from \"@mui/icons-material/Replay10Rounded\";\nimport StopRoundedIcon from \"@mui/icons-material/StopRounded\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport useDevHook, { ReactHook } from \"../hooks/UseDevHook\";\n\ninterface IPlayerControlsCallout {\n\topen: boolean;\n\tanchor: any;\n\tcloseCallout();\n}\n\nconst PlayerControlsCallout: React.FunctionComponent<IPlayerControlsCallout> = (props): JSX.Element => {\n\tconst { open, anchor, closeCallout } = props;\n\n\tconst env: string = process.env.GATSBY_ENV;\n\n\tconst { Player, PlayerTimestamp, SetPlayerTimestamp, SelectedAudio, SetSelectedAudio } = React.useContext(AppContext);\n\n\tconst [isPaused, setIsPaused] = useDevHook<boolean>(false, \"isPaused\", ReactHook.State, env);\n\n\tconst jumpToPosition = (seconds: number): void => {\n\t\tTone.Transport.clear(SelectedAudio.CurrentTimestampEventId);\n\t\tconst updatedTimestamp: number = PlayerTimestamp + seconds;\n\t\tTone.Transport.seconds = updatedTimestamp;\n\n\t\tlet currentTimestampEventId: number = Tone.Transport.scheduleRepeat(\n\t\t\t() => {\n\t\t\t\tSetPlayerTimestamp(Tone.TransportTime().toSeconds());\n\t\t\t},\n\t\t\t1,\n\t\t\tupdatedTimestamp,\n\t\t\tSelectedAudio.Duration - updatedTimestamp\n\t\t);\n\n\t\tconst tempAudio: IAudio = { ...SelectedAudio };\n\t\ttempAudio.CurrentTimestampEventId = currentTimestampEventId;\n\t\tSetPlayerTimestamp(updatedTimestamp);\n\t\tSetSelectedAudio(tempAudio);\n\t};\n\n\tconst renderPlayPauseControl = (): JSX.Element => {\n\t\tif (!isPaused && Tone.Transport.state !== \"paused\") {\n\t\t\treturn (\n\t\t\t\t<IconButton\n\t\t\t\t\tdisabled={PlayerTimestamp >= SelectedAudio.Duration - 1}\n\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTone.Transport.pause();\n\t\t\t\t\t\tsetIsPaused(true);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<PauseRounded></PauseRounded>\n\t\t\t\t</IconButton>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<IconButton\n\t\t\t\t\tdisabled={PlayerTimestamp >= SelectedAudio.Duration - 1}\n\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTone.Transport.start();\n\t\t\t\t\t\tsetIsPaused(false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<PlayArrowRounded></PlayArrowRounded>\n\t\t\t\t</IconButton>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst renderPlayerControls = (): JSX.Element => {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<IconButton\n\t\t\t\t\tdisabled={PlayerTimestamp <= 10}\n\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tjumpToPosition(-10);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Replay10RoundedIcon></Replay10RoundedIcon>\n\t\t\t\t</IconButton>\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tTone.Transport.stop();\n\t\t\t\t\t\tif (SelectedAudio.CurrentTimestampEventId) {\n\t\t\t\t\t\t\tTone.Transport.clear(SelectedAudio.CurrentTimestampEventId);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Tone.Transport.state === \"paused\") {\n\t\t\t\t\t\t\tTone.Transport.start();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (SelectedAudio.Stems.length > 0) {\n\t\t\t\t\t\t\tSelectedAudio.Stems.forEach((stem) => {\n\t\t\t\t\t\t\t\tPlayer.current.player(stem.Name).unsync();\n\t\t\t\t\t\t\t\tPlayer.current.player(stem.Name).dispose();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tPlayer.current.unsync();\n\t\t\t\t\t\t\tPlayer.current.dispose();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSetSelectedAudio(null);\n\n\t\t\t\t\t\t// Reset page background color\n\t\t\t\t\t\tconst bodyElement = document.querySelector(\"body\");\n\t\t\t\t\t\tbodyElement.style.background = \"#d8d8d8\";\n\n\t\t\t\t\t\tcloseCallout();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<StopRoundedIcon></StopRoundedIcon>\n\t\t\t\t</IconButton>\n\t\t\t\t{renderPlayPauseControl()}\n\t\t\t\t<IconButton\n\t\t\t\t\tdisabled={PlayerTimestamp + 10 > SelectedAudio.Duration}\n\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tjumpToPosition(10);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Forward10RoundedIcon></Forward10RoundedIcon>\n\t\t\t\t</IconButton>\n\t\t\t</React.Fragment>\n\t\t);\n\t};\n\n\tif (Player.current?.loaded) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchor}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"left\"\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"center\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tpadding: \"1em\",\n\t\t\t\t\t\tverticalAlign: \"center\"\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\t\tright: \"0\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcloseCallout();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon></CloseIcon>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Stack height=\"3em\" direction=\"row\" alignItems=\"center\">\n\t\t\t\t\t{renderPlayerControls()}\n\t\t\t\t</Stack>\n\t\t\t</Popover>\n\t\t);\n\t}\n};\n\nexport default PlayerControlsCallout;\n"],"names":["_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","createSvgIcon","props","_Player$current","open","anchor","closeCallout","Player","PlayerTimestamp","SetPlayerTimestamp","SelectedAudio","SetSelectedAudio","React","AppContext","isPaused","setIsPaused","useDevHook","ReactHook","process","jumpToPosition","seconds","Tone","CurrentTimestampEventId","updatedTimestamp","currentTimestampEventId","toSeconds","Duration","tempAudio","renderPlayerControls","IconButton","disabled","color","onClick","Replay10RoundedIcon","Stems","length","forEach","stem","current","player","Name","unsync","dispose","document","querySelector","style","background","StopRoundedIcon","PlayArrowRounded","PauseRounded","Forward10RoundedIcon","loaded","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","position","padding","verticalAlign","top","right","CloseIcon","Stack","height","direction","alignItems"],"sourceRoot":""}
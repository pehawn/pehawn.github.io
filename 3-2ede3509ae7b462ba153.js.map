{"version":3,"file":"3-2ede3509ae7b462ba153.js","mappings":"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","sources":["webpack://portfolio/./node_modules/@mui/icons-material/VolumeOff.js","webpack://portfolio/./node_modules/@mui/icons-material/VolumeUp.js","webpack://portfolio/./src/components/StemsCallout.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z\"\n}), 'VolumeOff');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"\n}), 'VolumeUp');\n\nexports.default = _default;","import React from \"react\";\nimport { AppContext } from \"../context/AppContext\";\nimport { IStem } from \"../types/IStem\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { IconButton, Popover, Slider, Stack, Typography, styled } from \"@mui/material\";\nimport { IAudio } from \"../types/IAudio\";\nimport * as Tone from \"tone\";\nimport VolumeUpIcon from \"@mui/icons-material/VolumeUp\";\nimport VolumeOffIcon from \"@mui/icons-material/VolumeOff\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport ReplayIcon from \"@mui/icons-material/Replay\";\n\ninterface IStemsCallout {\n\topen: boolean;\n\tanchor: any;\n\tcloseCallout();\n}\n\nconst uuid = uuidv4();\n\nconst StemsCallout: React.FunctionComponent<IStemsCallout> = (props): JSX.Element => {\n\tconst { open, anchor, closeCallout } = props;\n\tconst { Player, SelectedAudio, SetSelectedAudio, ResetVolumeLevels } = React.useContext(AppContext);\n\n\tconst TinyText = styled(Typography)({\n\t\tfontSize: \"0.75rem\",\n\t\topacity: 0.38,\n\t\tfontWeight: 500,\n\t\tletterSpacing: 0.2\n\t});\n\n\tconst renderStemSliders = (): JSX.Element[] => {\n\t\tconst renderStemVolumeButton = (stem: IStem): JSX.Element => {\n\t\t\tif (stem.Channel && !Player.current.player(stem.Name).mute) {\n\t\t\t\treturn <VolumeUpIcon key={`volumeup${uuid}`}></VolumeUpIcon>;\n\t\t\t} else {\n\t\t\t\treturn <VolumeOffIcon key={`volumeoff${uuid}`}></VolumeOffIcon>;\n\t\t\t}\n\t\t};\n\n\t\tconst stemSliders: JSX.Element[] = SelectedAudio.Stems.map((stem) => {\n\t\t\tlet currentStem: IStem = SelectedAudio.Stems.find((track) => track.Name === stem.Name);\n\t\t\tlet currentStemIndex: number = SelectedAudio.Stems.indexOf(stem);\n\n\t\t\treturn (\n\t\t\t\t<Stack\n\t\t\t\t\theight=\"15em\"\n\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tm: 0.5\n\t\t\t\t\t}}\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tkey={`${stem.Name}${uuid}`}\n\t\t\t\t>\n\t\t\t\t\t<TinyText key={`stemname${uuid}`}>{stem.Name}</TinyText>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: \"transparent\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tlet audio: IAudio = { ...SelectedAudio };\n\n\t\t\t\t\t\t\tif (!Player.current.player(stem.Name).mute) {\n\t\t\t\t\t\t\t\taudio.Stems[currentStemIndex].Channel.mute = true;\n\t\t\t\t\t\t\t\tPlayer.current.player(stem.Name).mute = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taudio.Stems[currentStemIndex].Channel.mute = false;\n\t\t\t\t\t\t\t\tPlayer.current.player(stem.Name).mute = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tSetSelectedAudio(audio);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkey={`stemmute${uuid}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderStemVolumeButton(stem)}\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t'& input[type=\"range\"]': {\n\t\t\t\t\t\t\t\tWebkitAppearance: \"slider-vertical\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"& .MuiSlider-thumb\": {\n\t\t\t\t\t\t\t\tborderRadius: \"30%\",\n\t\t\t\t\t\t\t\theight: \"5px\",\n\t\t\t\t\t\t\t\t\"&:hover, &.Mui-focusVisible, &.Mui-active\": {\n\t\t\t\t\t\t\t\t\tboxShadow: \"none\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisabled={Player.current.player(stem.Name).mute && Player.current.player(stem.Name).volume.value !== 0}\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\tvalue={currentStem.Volume}\n\t\t\t\t\t\tonChange={(_, value) => {\n\t\t\t\t\t\t\tlet audio: IAudio = { ...SelectedAudio };\n\t\t\t\t\t\t\taudio.Stems[currentStemIndex].Volume = value as number;\n\t\t\t\t\t\t\tPlayer.current.player(stem.Name).volume.value = value;\n\t\t\t\t\t\t\tSetSelectedAudio(audio);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmax={6}\n\t\t\t\t\t\tstep={0.5}\n\t\t\t\t\t\tmin={-30}\n\t\t\t\t\t\taria-label=\"Temperature\"\n\t\t\t\t\t\tvalueLabelDisplay=\"off\"\n\t\t\t\t\t\tkey={`stemvolume${uuid}`}\n\t\t\t\t\t/>\n\t\t\t\t</Stack>\n\t\t\t);\n\t\t});\n\n\t\treturn stemSliders;\n\t};\n\n\tif (Player.current?.loaded) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchor}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"left\"\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"center\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tpadding: \"1em\",\n\t\t\t\t\t\tverticalAlign: \"center\"\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: \"0\",\n\t\t\t\t\t\t\tright: \"0\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tResetVolumeLevels();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={Tone.Transport.state !== \"started\"}\n\t\t\t\t\t\t\tstyle={{ paddingRight: \"1px\" }}\n\t\t\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ReplayIcon></ReplayIcon>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcloseCallout();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcolor={\"primary\"}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon></CloseIcon>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Stack\n\t\t\t\t\theight=\"15em\"\n\t\t\t\t\tspacing={1}\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tm: 2\n\t\t\t\t\t}}\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t>\n\t\t\t\t\t{renderStemSliders()}\n\t\t\t\t</Stack>\n\t\t\t</Popover>\n\t\t);\n\t}\n};\n\nexport default StemsCallout;\n"],"names":["_interopRequireDefault","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","uuid","uuidv4","props","_Player$current","open","anchor","closeCallout","Player","SelectedAudio","SetSelectedAudio","ResetVolumeLevels","React","AppContext","TinyText","styled","Typography","fontSize","opacity","fontWeight","letterSpacing","renderStemSliders","Stems","map","stem","currentStem","find","track","Name","currentStemIndex","indexOf","Stack","height","direction","sx","m","alignItems","key","IconButton","color","style","backgroundColor","onClick","audio","current","player","mute","Channel","VolumeUpIcon","VolumeOffIcon","renderStemVolumeButton","Slider","WebkitAppearance","borderRadius","boxShadow","disabled","volume","value","orientation","Volume","onChange","_","max","step","min","valueLabelDisplay","loaded","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","position","padding","verticalAlign","top","right","Tone","paddingRight","ReplayIcon","CloseIcon","spacing"],"sourceRoot":""}